{"version":3,"sources":["webpack:///./node_modules/_core-js@3.6.5@core-js/modules/es.function.name.js","webpack:///./src/views/dashboard/contract/DiffImg.vue?1138","webpack:///src/views/dashboard/contract/DiffImg.vue","webpack:///./src/views/dashboard/contract/DiffImg.vue?1473","webpack:///./src/views/dashboard/contract/DiffImg.vue"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","render","_vm","_h","$createElement","_c","_self","ref","style","overflow","width","position","top","background","transformOrigin","transform","val","height","attrs","imgSrc","_l","item","index","key","closeMenu","scopedSlots","_u","fn","on","_g","_b","staticStyle","left","color","id","$event","ignoreBtn","_v","errorBtn","staticRenderFns","name","props","type","String","locals","Array","ratio","Number","default","unique","required","Boolean","data","watch","$refs","myImg","offsetHeight","created","document","body","clientHeight","mounted","window","addEventListener","handlerHeight","scrollDiv","handlerScroll","$bus","value","imgDiv","scrollTop","scrollLeft","divs","forEach","beforeDestroy","removeEventListener","passive","off","methods","emit","component","VList","VListItem","VListItemTitle","VMenu"],"mappings":"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","file":"js/chunk-22f6d7d0.5ddabe51.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"scrollDiv\",style:({overflow:'auto',width:'100%',position:'relative',top:0,background:'rgba(0,0,0,.3)'})},[_c('div',{ref:\"myImg\",style:({transformOrigin: '0 0',transform:'scale('+_vm.val+')', height: _vm.height + 'px'})},[_c('img',{attrs:{\"src\":_vm.imgSrc}}),_vm._l((_vm.locals),function(item,index){return [_c('v-menu',{key:index,attrs:{\"bottom\":\"\",\"closeOnContentClick\":\"\",\"offset-y\":\"\",\"disabled\":_vm.closeMenu},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticStyle:{\"position\":\"absolute\",\"opacity\":\".5\"},style:({width: item.width + 'px', height: item.height + 'px', top: item.top + 'px', left: item.left + 'px', background: item.color}),attrs:{\"name\":item.id}},'div',attrs,false),on))]}}],null,true)},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.ignoreBtn(item.id)}}},[_c('v-list-item-title',{staticStyle:{\"color\":\"#666\"}},[_vm._v(\"忽略\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.errorBtn(item.id)}}},[_c('v-list-item-title',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"异常\")])],1)],1)],1)]})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      :style=\"{overflow:'auto',width:'100%',position:'relative',top:0,background:'rgba(0,0,0,.3)'}\"\r\n      ref=\"scrollDiv\"\r\n    >\r\n      <div\r\n        :style=\"{transformOrigin: '0 0',transform:'scale('+val+')', height: height + 'px'}\"\r\n        ref=\"myImg\"\r\n      >\r\n        <img :src=\"imgSrc\" />\r\n\r\n        <template v-for=\"(item, index) in locals\">\r\n          <v-menu bottom closeOnContentClick offset-y :key=\"index\" :disabled=\"closeMenu\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <div\r\n                v-on=\"on\"\r\n                v-bind=\"attrs\"\r\n                :name='item.id'\r\n                style=\"position:absolute;opacity:.5\"\r\n                :style=\"{width: item.width + 'px', height: item.height + 'px', top: item.top + 'px', left: item.left + 'px', background: item.color}\"\r\n              ></div>\r\n            </template>\r\n\r\n            <v-list>\r\n              <v-list-item @click=\"ignoreBtn(item.id)\">\r\n                <v-list-item-title style=\"color:#666\">忽略</v-list-item-title>\r\n              </v-list-item>\r\n              <v-list-item @click=\"errorBtn(item.id)\">\r\n                <v-list-item-title style=\"color:red\">异常</v-list-item-title>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-menu>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"DiffImg\",\r\n  props: {\r\n    imgSrc: {\r\n      type: String\r\n    },\r\n    locals: {\r\n      type: Array\r\n    },\r\n    ratio: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    unique: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    closeMenu: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data: () => ({\r\n    height: 0,\r\n    val: 1\r\n  }),\r\n  watch: {\r\n    val: function(val) {\r\n      this.height = this.$refs.myImg.offsetHeight;\r\n    },\r\n    ratio: function(val) {\r\n      this.val = val / 100;\r\n    }\r\n  },\r\n  created() {\r\n    this.height = document.body.clientHeight - 105;\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"resize\", this.handlerHeight);\r\n\r\n    this.$refs.scrollDiv.addEventListener(\"scroll\", this.handlerScroll);\r\n\r\n    let imgDiv = this.$refs.scrollDiv;\r\n    // 消息总线监听滚动条\r\n    this.$bus.on(\"onScroll\", function(value) {\r\n      if (value.unique == \"1\") {\r\n        imgDiv.scrollTop = value.top;\r\n        imgDiv.scrollLeft = value.left;\r\n      }\r\n    });\r\n    // 消息总线监听对比标注\r\n    this.$bus.on(\"onDivStyle\", function(value) {\r\n      // console.log(document.getElementsByName(value.name))\r\n      let divs = document.getElementsByName(value.name);\r\n      divs.forEach(item => {\r\n        item.style.background = value.color\r\n      })\r\n      // let div = document.getElementById(value.name);\r\n      // div.style.background = value.color\r\n    });\r\n  },\r\n  beforeDestroy() {\r\n    if (typeof window !== \"undefined\") {\r\n      window.removeEventListener(\"resize\", this.handlerHeight, {\r\n        passive: true\r\n      });\r\n    }\r\n    if(typeof this.$refs.scrollDiv !== \"undefined\"){\r\n      this.$refs.scrollDiv.removeEventListener(\"scroll\", this.handlerScroll);\r\n    }\r\n    \r\n    this.$bus.off(\"onScroll\");\r\n    this.$bus.off(\"onDivStyle\");\r\n  },\r\n  methods: {\r\n    handlerScroll() {\r\n      this.$bus.emit(\"onScroll\", {\r\n        top: this.$refs.scrollDiv.scrollTop,\r\n        left: this.$refs.scrollDiv.scrollLeft,\r\n        unique: this.unique\r\n      });\r\n    },\r\n    handlerHeight() {\r\n      this.height = document.body.clientHeight - 105;\r\n    },\r\n    ignoreBtn(id){\r\n      let uni = this.unique\r\n      this.$bus.emit(\"onDivStyle\", {\r\n        name: id,\r\n        color: 'green'\r\n      });\r\n    },\r\n    errorBtn(id){\r\n      let uni = this.unique\r\n      this.$bus.emit(\"onDivStyle\", {\r\n        name: id,\r\n        color: 'red'\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_vuetify-loader@1.5.0@vuetify-loader/lib/loader.js??ref--17-0!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./DiffImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_vuetify-loader@1.5.0@vuetify-loader/lib/loader.js??ref--17-0!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./DiffImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiffImg.vue?vue&type=template&id=bdebb560&\"\nimport script from \"./DiffImg.vue?vue&type=script&lang=js&\"\nexport * from \"./DiffImg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/_vuetify-loader@1.5.0@vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VList,VListItem,VListItemTitle,VMenu})\n"],"sourceRoot":""}